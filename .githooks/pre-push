#!/usr/bin/env bash
set -euo pipefail

for f in tools/oc_validate.sh publish.sh tools/install-hooks.sh; do
  if [ -f "$f" ] && [ ! -x "$f" ]; then
    echo "ERROR: $f is not executable. Fix with: chmod +x $f"
    exit 1
  fi
done

echo "OpenClaw pre-push: running validation..."
tools/oc_validate.sh
echo "OpenClaw pre-push: OK"
